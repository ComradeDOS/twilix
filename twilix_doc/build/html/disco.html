

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Twilix.Disco Documentation &mdash; Twilix v0.9 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Twilix v0.9 documentation" href="index.html" />
    <link rel="next" title="Twilix.Dispatcher Documentation" href="dispatcher.html" />
    <link rel="prev" title="Twilix.Base Documentation" href="base.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dispatcher.html" title="Twilix.Dispatcher Documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="base.html" title="Twilix.Base Documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Twilix v0.9 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-twilix.disco">
<span id="twilix-disco-documentation"></span><h1>Twilix.Disco Documentation<a class="headerlink" href="#module-twilix.disco" title="Permalink to this headline">¶</a></h1>
<p>Contains classes that implement service discovery. (XEP-0030)</p>
<p>You can use it to get disco items or info from another jabber entities and to
represent your own items and feature to others.</p>
<dl class="class">
<dt id="twilix.disco.CapsElement">
<em class="property">class </em><tt class="descclassname">twilix.disco.</tt><tt class="descname">CapsElement</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#twilix.disco.CapsElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends VElement. 
Describe node for entity capabilities with fields that corresponds 
to the protocol.</p>
<dl class="docutils">
<dt>Attributes:</dt>
<dd><p class="first">hash_ - string attribute contains features hash type</p>
<p>node &#8211; string attribute contains caps node</p>
<p class="last">ver &#8211; string attribute contains features hash</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="twilix.disco.Disco">
<em class="property">class </em><tt class="descclassname">twilix.disco.</tt><tt class="descname">Disco</tt><big>(</big><em>dispatcher</em><big>)</big><a class="headerlink" href="#twilix.disco.Disco" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe interaction dispatcher with service discovery.</p>
<p>You can set your info or items using attributes static_info and
static_items which are a dictionaries keys of which are nodes and
values are instances of DiscoInfoQuery or DiscoItemsQuery appropriately</p>
<p>For the root node you should use attributes root_info and root_items in
the same way.</p>
<p>To implement some dynamic nodes you should use handler param for the
init method where you can pass your own Disco handlers which will
generate any answers in runtime based on your criterias.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dispatcher</strong> &#8211; dispatcher instance to use with the service.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="twilix.disco.Disco.getCapsHash">
<tt class="descname">getCapsHash</tt><big>(</big><big>)</big><a class="headerlink" href="#twilix.disco.Disco.getCapsHash" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and return hash of identities and features in base64 format 
based on own identities and features.</p>
</dd></dl>

<dl class="method">
<dt id="twilix.disco.Disco.getInfo">
<tt class="descname">getInfo</tt><big>(</big><em>jid</em>, <em>node=None</em>, <em>from_=None</em><big>)</big><a class="headerlink" href="#twilix.disco.Disco.getInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Get disco info from another entity.
Return deferred object with the result of type DiscoInfoQuery.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jid</strong> &#8211; JID of the entity to get items from.</li>
<li><strong>node</strong> &#8211; node name to get items from.</li>
<li><strong>from</strong> &#8211; set some specific from address. Uses myjid if none given.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">query.iq.deferred - deferrer object with result or error.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="twilix.disco.Disco.getItems">
<tt class="descname">getItems</tt><big>(</big><em>jid</em>, <em>node=None</em>, <em>from_=None</em><big>)</big><a class="headerlink" href="#twilix.disco.Disco.getItems" title="Permalink to this definition">¶</a></dt>
<dd><p>Get disco items from another entity.
Return deferred object with the result of type DiscoItemsQuery.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jid</strong> &#8211; JID of the entity to get items from.</li>
<li><strong>node</strong> &#8211; node name to get items from.</li>
<li><strong>from</strong> &#8211; set some specific from address. Uses myjid if none given.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">query.iq.deferred - deferrer object with result or error.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="twilix.disco.Disco.init">
<tt class="descname">init</tt><big>(</big><em>handlers=None</em><big>)</big><a class="headerlink" href="#twilix.disco.Disco.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the service (Register all necessary handlers and add service
discovery features as own. When called, the entity will be able to
answer disco queries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>handlers</strong> &#8211; any extra disco handlers to handle dynamic disco nodes</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="twilix.disco.DiscoInfoQuery">
<em class="property">class </em><tt class="descclassname">twilix.disco.</tt><tt class="descname">DiscoInfoQuery</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#twilix.disco.DiscoInfoQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends Query class.
Contains information about features and identities.</p>
</dd></dl>

<dl class="class">
<dt id="twilix.disco.DiscoItem">
<em class="property">class </em><tt class="descclassname">twilix.disco.</tt><tt class="descname">DiscoItem</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#twilix.disco.DiscoItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends VElement.
Describe base discovery item element with fields that corresponds 
to the protocol.</p>
<dl class="docutils">
<dt>Attributes:</dt>
<dd><p class="first">jid &#8211; jid attribute</p>
<p>iname &#8211; string attribute contains human readable name</p>
<p class="last">node &#8211; string attribute</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="twilix.disco.DiscoItemsQuery">
<em class="property">class </em><tt class="descclassname">twilix.disco.</tt><tt class="descname">DiscoItemsQuery</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#twilix.disco.DiscoItemsQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends Query class.</p>
<dl class="docutils">
<dt>Attibutes:</dt>
<dd><p class="first">items &#8211; element node with DiscoItem</p>
<p class="last">node &#8211; string attribute &#8216;node&#8217;</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="twilix.disco.Feature">
<em class="property">class </em><tt class="descclassname">twilix.disco.</tt><tt class="descname">Feature</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#twilix.disco.Feature" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends VElement. 
Describes node for feature with field that corresponds to the
protocol.</p>
<dl class="docutils">
<dt>Attributes:</dt>
<dd>var &#8211; string attribute with a feature namespace</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="twilix.disco.Identity">
<em class="property">class </em><tt class="descclassname">twilix.disco.</tt><tt class="descname">Identity</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#twilix.disco.Identity" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends VElement. 
Describe node for identity with fields that corresponds to the
protocol.</p>
<dl class="docutils">
<dt>Attributes:</dt>
<dd><p class="first">category &#8211; string attribute</p>
<p>type_ &#8211; string attribute</p>
<p class="last">iname &#8211; string attribute contains human readable name</p>
</dd>
</dl>
<p>See: <a class="reference external" href="http://xmpp.org/registrar/disco-categories.html">http://xmpp.org/registrar/disco-categories.html</a></p>
</dd></dl>

<dl class="class">
<dt id="twilix.disco.NotFoundDiscoInfoQuery">
<em class="property">class </em><tt class="descclassname">twilix.disco.</tt><tt class="descname">NotFoundDiscoInfoQuery</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#twilix.disco.NotFoundDiscoInfoQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherit NotFoundQuery and DiscoItemsQuery.
Handler for cases when disco info isn&#8217;t found.</p>
</dd></dl>

<dl class="class">
<dt id="twilix.disco.NotFoundDiscoItemsQuery">
<em class="property">class </em><tt class="descclassname">twilix.disco.</tt><tt class="descname">NotFoundDiscoItemsQuery</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#twilix.disco.NotFoundDiscoItemsQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherit NotFoundQuery and DiscoItemsQuery.
Handler for cases when disco item isn&#8217;t found.</p>
</dd></dl>

<dl class="class">
<dt id="twilix.disco.NotFoundQuery">
<em class="property">class </em><tt class="descclassname">twilix.disco.</tt><tt class="descname">NotFoundQuery</tt><a class="headerlink" href="#twilix.disco.NotFoundQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains handler for making error if item isn&#8217;t found.</p>
<dl class="method">
<dt id="twilix.disco.NotFoundQuery.anyHandler">
<tt class="descname">anyHandler</tt><big>(</big><big>)</big><a class="headerlink" href="#twilix.disco.NotFoundQuery.anyHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise ItemNotFoundException in any case.</p>
</dd></dl>

<dl class="attribute">
<dt id="twilix.disco.NotFoundQuery.parentClass">
<tt class="descname">parentClass</tt><a class="headerlink" href="#twilix.disco.NotFoundQuery.parentClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">MyIq</span></tt></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="twilix.disco.VDiscoInfoQuery">
<em class="property">class </em><tt class="descclassname">twilix.disco.</tt><tt class="descname">VDiscoInfoQuery</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#twilix.disco.VDiscoInfoQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends class DiscoInfoQuery.
Set MyIq as parent class. 
Describe get handler.</p>
<dl class="method">
<dt id="twilix.disco.VDiscoInfoQuery.getHandler">
<tt class="descname">getHandler</tt><big>(</big><big>)</big><a class="headerlink" href="#twilix.disco.VDiscoInfoQuery.getHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Return result iq when dispatcher gets get Disco Info query.</p>
</dd></dl>

<dl class="attribute">
<dt id="twilix.disco.VDiscoInfoQuery.parentClass">
<tt class="descname">parentClass</tt><a class="headerlink" href="#twilix.disco.VDiscoInfoQuery.parentClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">MyIq</span></tt></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="twilix.disco.VDiscoItemsQuery">
<em class="property">class </em><tt class="descclassname">twilix.disco.</tt><tt class="descname">VDiscoItemsQuery</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#twilix.disco.VDiscoItemsQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends DiscoItemsQuery.
Set MyIq as parent class.
Describe get handler for disco items query.</p>
<dl class="method">
<dt id="twilix.disco.VDiscoItemsQuery.getHandler">
<tt class="descname">getHandler</tt><big>(</big><big>)</big><a class="headerlink" href="#twilix.disco.VDiscoItemsQuery.getHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Return result iq when dispatcher gets Disco Items query.</p>
</dd></dl>

<dl class="attribute">
<dt id="twilix.disco.VDiscoItemsQuery.parentClass">
<tt class="descname">parentClass</tt><a class="headerlink" href="#twilix.disco.VDiscoItemsQuery.parentClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">MyIq</span></tt></p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="base.html"
                        title="previous chapter">Twilix.Base Documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dispatcher.html"
                        title="next chapter">Twilix.Dispatcher Documentation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/disco.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dispatcher.html" title="Twilix.Dispatcher Documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="base.html" title="Twilix.Base Documentation"
             >previous</a> |</li>
        <li><a href="index.html">Twilix v0.9 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, JRuDevels &amp; HiDevLab.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>